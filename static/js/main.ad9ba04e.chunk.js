(this["webpackJsonphexagon-game"]=this["webpackJsonphexagon-game"]||[]).push([[0],{33:function(e,t,r){e.exports=r(86)},37:function(e,t,r){},38:function(e,t,r){},86:function(e,t,r){"use strict";r.r(t);var n,a=r(4),i=r.n(a),u=r(29),o=r.n(u),l=(r(37),r(38),r(32)),c=r(17),s=r(30),d=r(31),m=r(11),y=r(18);!function(e){e[e.Empty=0]="Empty",e[e.PlayerA=1]="PlayerA",e[e.PlayerB=2]="PlayerB",e[e.DominatedA=3]="DominatedA",e[e.DominatedB=4]="DominatedB",e[e.Draw=5]="Draw"}(n||(n={}));var h=function(e){switch(e){case n.Empty:return"#FCDC5F";case n.PlayerA:return"#D2111B";case n.PlayerB:return"#3F48CC";case n.DominatedA:return"#F8A7AB";case n.DominatedB:return"#CACDF0"}},f=function(e){return i.a.createElement("span",{style:{color:h(e)}},e===n.PlayerA?"Red":"Blue")},v=function(e){return e===n.Empty},b=function(e,t){return{q:e.q+t.q,r:e.r+t.r}},p=[{q:-1,r:0},{q:0,r:-1},{q:1,r:-1},{q:1,r:0},{q:0,r:1},{q:-1,r:1}],B=function(){function e(t){Object(s.a)(this,e),this.board=void 0,this.turnPlayer=void 0,this.turnMove=void 0,this.turnNumber=void 0,this[y.a]=!0;var r=2*t-1;this.board=[];for(var a=0;a<r;a+=1)this.board.push(Array(r).fill(n.Empty));this.turnPlayer=n.PlayerA,this.turnMove=1,this.turnNumber=1}return Object(d.a)(e,[{key:"at",value:function(e){return console.assert(this.inBounds(e)),this.board[e.r][e.q]}},{key:"inBounds",value:function(e){return e.q>=0&&e.r>=0&&e.q+e.r>=this.sideLen-1&&e.q<this.diamLen&&e.r<this.diamLen&&e.r+e.q<this.diamLen+this.sideLen-1}},{key:"move",value:function(e){return Object(y.b)(this,(function(t){t.board[e.r][e.q]=t.turnPlayer;var r,a,i=Object(c.a)(p);try{for(i.s();!(r=i.n()).done;)for(var u=r.value,o=b(e,u);t.inBounds(o)&&(a=t.at(o),![n.PlayerA,n.PlayerB].includes(a));)t.board[o.r][o.q]=t.dominator(o),o=b(o,u)}catch(l){i.e(l)}finally{i.f()}1===t.turnMove&&t.turnNumber>1?t.turnMove+=1:(t.turnMove=1,t.turnPlayer=t.turnPlayer===n.PlayerA?n.PlayerB:n.PlayerA,t.turnNumber+=1)}))}},{key:"dominator",value:function(e){var t,r=0,a=0,i=Object(c.a)(p);try{for(i.s();!(t=i.n()).done;)for(var u=t.value,o=e;o=b(o,u),this.inBounds(o);){if(this.at(o)===n.PlayerA){r+=1;break}if(this.at(o)===n.PlayerB){a+=1;break}}}catch(l){i.e(l)}finally{i.f()}return r===a?n.Empty:r>a?n.DominatedA:n.DominatedB}},{key:"countScores",value:function(){for(var e=0,t=0,r=0;r<this.diamLen;r+=1)for(var a=0;a<this.diamLen;a+=1){var i={q:a,r:r};this.inBounds(i)&&(this.at(i)===n.DominatedA?e+=1:this.at(i)===n.DominatedB&&(t+=1))}return{playerA:e,playerB:t}}},{key:"sideLen",get:function(){return Math.ceil(this.board.length/2)}},{key:"diamLen",get:function(){return this.board.length}}]),e}(),P=function(){var e=Object(a.useState)((function(){return new B(6)})),t=Object(l.a)(e,2),r=t[0],u=t[1],o=window.innerWidth,c=30*Math.sqrt(3),s=c/2,d=r.countScores(),y=n.Empty;return r.board.some((function(e,t){return e.some((function(e,n){return r.inBounds({q:n,r:t})&&v(e)}))}))||(y=d.playerA===d.playerB?n.Draw:d.playerA>d.playerB?n.PlayerA:n.PlayerB),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,"Board size: ",i.a.createElement("input",{type:"number",min:1,value:r.sideLen,onChange:function(e){return u(new B(Number(e.target.value)))}})),i.a.createElement("div",null,"Turn ",r.turnNumber,", move ",r.turnMove,"."," ",f(n.PlayerA)," has ",d.playerA," fields. ",f(n.PlayerB)," has ",d.playerB," fields."," ",i.a.createElement("button",{onClick:function(){return u(new B(r.sideLen))}},"Reset")),i.a.createElement("div",null,y===n.Empty?i.a.createElement(i.a.Fragment,null,f(r.turnPlayer)," player's turn."):y===n.Draw?i.a.createElement(i.a.Fragment,null,"Draw."):i.a.createElement(i.a.Fragment,null,"Player ",f(y)," won.")),i.a.createElement(m.Stage,{width:o,height:800},i.a.createElement(m.Layer,null,r.board.flatMap((function(e,t){var n=t*s;return e.flatMap((function(e,a){var o={q:a,r:t};return r.inBounds(o)?[i.a.createElement(m.RegularPolygon,{sides:6,radius:30,fill:h(e),stroke:"black",strokeWidth:1,x:50+n+c*a,y:50+45*t,key:"".concat(a,"_").concat(t),onClick:function(e){0===e.evt.button&&v(r.at(o))&&u((function(e){return e.move(o)}))}})]:[]}))})))))},E=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(P,null))};o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(E,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.ad9ba04e.chunk.js.map