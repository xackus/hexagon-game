(this["webpackJsonphexagon-game"]=this["webpackJsonphexagon-game"]||[]).push([[0],{33:function(e,t,n){e.exports=n(86)},37:function(e,t,n){},38:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var r,a=n(4),i=n.n(a),u=n(29),o=n.n(u),l=(n(37),n(38),n(32)),c=n(17),s=n(30),d=n(31),m=n(11),y=n(18);!function(e){e[e.Empty=0]="Empty",e[e.PlayerA=1]="PlayerA",e[e.PlayerB=2]="PlayerB",e[e.DominatedA=3]="DominatedA",e[e.DominatedB=4]="DominatedB"}(r||(r={}));var h=function(e){switch(e){case r.Empty:return"#FCDC5F";case r.PlayerA:return"#D2111B";case r.PlayerB:return"#3F48CC";case r.DominatedA:return"#F8A7AB";case r.DominatedB:return"#CACDF0"}},f=function(e){return i.a.createElement("span",{style:{color:h(e)}},e===r.PlayerA?"Red":"Blue")},v=function(e){return e===r.Empty},b=function(e,t){return{q:e.q+t.q,r:e.r+t.r}},p=[{q:-1,r:0},{q:0,r:-1},{q:1,r:-1},{q:1,r:0},{q:0,r:1},{q:-1,r:1}],B=function(){function e(t){Object(s.a)(this,e),this.board=void 0,this.turnPlayer=void 0,this.turnMove=void 0,this.turnNumber=void 0,this[y.a]=!0;var n=2*t-1;this.board=[];for(var a=0;a<n;a+=1)this.board.push(Array(n).fill(r.Empty));this.turnPlayer=r.PlayerA,this.turnMove=1,this.turnNumber=1}return Object(d.a)(e,[{key:"at",value:function(e){return console.assert(this.inBounds(e)),this.board[e.r][e.q]}},{key:"inBounds",value:function(e){return e.q>=0&&e.r>=0&&e.q+e.r>=this.sideLen-1&&e.q<this.diamLen&&e.r<this.diamLen&&e.r+e.q<this.diamLen+this.sideLen-1}},{key:"move",value:function(e){return Object(y.b)(this,(function(t){t.board[e.r][e.q]=t.turnPlayer;var n,a,i=Object(c.a)(p);try{for(i.s();!(n=i.n()).done;)for(var u=n.value,o=b(e,u);t.inBounds(o)&&(a=t.at(o),![r.PlayerA,r.PlayerB].includes(a));)t.board[o.r][o.q]=t.dominator(o),o=b(o,u)}catch(l){i.e(l)}finally{i.f()}1===t.turnMove&&t.turnNumber>1?t.turnMove+=1:(t.turnMove=1,t.turnPlayer=t.turnPlayer===r.PlayerA?r.PlayerB:r.PlayerA,t.turnNumber+=1)}))}},{key:"dominator",value:function(e){var t,n=0,a=0,i=Object(c.a)(p);try{for(i.s();!(t=i.n()).done;)for(var u=t.value,o=e;o=b(o,u),this.inBounds(o);){if(this.at(o)===r.PlayerA){n+=1;break}if(this.at(o)===r.PlayerB){a+=1;break}}}catch(l){i.e(l)}finally{i.f()}return n===a?r.Empty:n>a?r.DominatedA:r.DominatedB}},{key:"countScores",value:function(){for(var e=0,t=0,n=0;n<this.diamLen;n+=1)for(var a=0;a<this.diamLen;a+=1){var i={q:a,r:n};this.inBounds(i)&&(this.at(i)===r.DominatedA?e+=1:this.at(i)===r.DominatedB&&(t+=1))}return{playerA:e,playerB:t}}},{key:"sideLen",get:function(){return Math.ceil(this.board.length/2)}},{key:"diamLen",get:function(){return this.board.length}}]),e}(),P=function(){var e=Object(a.useState)((function(){return new B(6)})),t=Object(l.a)(e,2),n=t[0],u=t[1],o=window.innerWidth,c=30*Math.sqrt(3),s=c/2,d=n.countScores(),y=r.Empty;return n.board.some((function(e,t){return e.some((function(e,r){return n.inBounds({q:r,r:t})&&v(e)}))}))||(y=d.playerA>d.playerB?r.PlayerA:r.PlayerB),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,"Board size: ",i.a.createElement("input",{type:"number",min:1,value:n.sideLen,onChange:function(e){return u(new B(Number(e.target.value)))}})),i.a.createElement("div",null,"Turn ",n.turnNumber,", move ",n.turnMove,"."," ",f(r.PlayerA)," has ",d.playerA," fields. ",f(r.PlayerB)," has ",d.playerB," fields."," ",i.a.createElement("button",{onClick:function(){return u(new B(n.sideLen))}},"Reset")),i.a.createElement("div",null,y!==r.Empty?i.a.createElement(i.a.Fragment,null,"Player ",f(y)," won."):i.a.createElement(i.a.Fragment,null,f(n.turnPlayer)," player's turn.")),i.a.createElement(m.Stage,{width:o,height:800},i.a.createElement(m.Layer,null,n.board.flatMap((function(e,t){var r=t*s;return e.flatMap((function(e,a){var o={q:a,r:t};return n.inBounds(o)?[i.a.createElement(m.RegularPolygon,{sides:6,radius:30,fill:h(e),stroke:"black",strokeWidth:1,x:50+r+c*a,y:50+45*t,key:"".concat(a,"_").concat(t),onClick:function(e){0===e.evt.button&&v(n.at(o))&&u((function(e){return e.move(o)}))}})]:[]}))})))))},E=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(P,null))};o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(E,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.becef2af.chunk.js.map